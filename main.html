<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Visualer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    <form onsubmit="return false">
        <label> Podaj wartość funkcji: </label>
        <input type="text" placeholder="format: x**2+4x+4" id="myFunction"><br>
        <button onclick="destroyUserFunction()">DRAW</button>
    </form>
    <div class="siemka">
        <p>Tutaj sprawdzam funckje i własności kodu, fucknji, programu, itp: </p>
    </div>

    <script>

        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;
        let rangex = canvas.width/40;
        let rangey = canvas.height/20
        let number = -20;

        function draw(ctx){
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.strokeStyle = "black";
            ctx.stroke();
        }

        
        for(i=0; i<=canvas.width; i+=rangex) {
                ctx.beginPath();
                ctx.fillText(number, i, centerY - 9)
                number++
                ctx.textAlign = "center"
                ctx.textBaseline = "middle"
                ctx.font = "10px Arial"
                ctx.moveTo(i, centerY - 5);
                ctx.lineTo(i, centerY + 5);
                ctx.strokeStyle = "black";
                ctx.stroke();
        }

        number = 10

        for(i=0; i<=canvas.height; i+=rangey) {
                ctx.beginPath();
                ctx.fillText(number, centerX - 9, i )
                number--
                ctx.textAlign = "center"
                ctx.textBaseline = "middle"
                ctx.font = "10px Arial"
                ctx.moveTo(centerX - 5, i);
                ctx.lineTo(centerX + 5, i);
                ctx.strokeStyle = "black";
                ctx.stroke();
        }
           

        draw(ctx);

        ctx.translate(centerX, centerY);
        ctx.scale(100,100);
        number=-20
        

        truthTableRPN = {
        '(' : 0,
        '+' : 1,
        '-' : 1,
        ')' : 1,
        '*' : 2,
        '/' : 2,
        '%' : 2,
        '^':3
        }
        arrayFunction =[]
        stos =[]
        const myFunction = document.querySelector("#myFunction").value

        // function destroyUserFunction(){
        //     const myFunction = document.querySelector("#myFunction").value
        //     const check = document.querySelector(".siemka")
        //     functionWithX = myFunction.replaceAll('x', '(x)')
        //     filteredFunction = functionWithX.split(/\s/g)
        //     check.innerHTML += "filtrowane liczby: "+filteredFunction+'<br>'
        //     filteredFunction[2] = filteredFunction[2].replaceAll('x', '2')
        //     check.innerHTML += "filtrowane liczby: "+ Math.eval(filteredFunction[2])+'<br>'
        // }
        
        // function drawMyFunction(){
        //     const myFunction = document.querySelector("#myFunction").value
        //     const check = document.querySelector(".siemka")
    
        //     functionWithX = myFunction
        //     functionWithX = functionWithX.replaceAll('x', '(x)')
        //     arrayNumbers = functionWithX.split(/[+\-*\/]/g)
        //     arrayChars = functionWithX.split(/[^+\-*\/]/g)
        //     filteredArrayNumbers = arrayNumbers.filter(function cleanWhiteSpaces(array){
        //         return array != ''
        //     })
        //     filteredArrayChars = arrayChars.filter(function cleanWhiteSpaces(array){
        //         return array != ''
        //     })
        //     check.innerHTML += "filtrowane liczby: "+filteredArrayNumbers+'<br>'
        //     check.innerHTML += "filtrowane liczby: "+filteredArrayChars+'<br>'
        //     //yParameter = eval(functionWithX);
        //     //check.innerHTML += "Wartość X: "+x+"Wartość Y: "+yParameter

        //     lastFunction = []
        //     lastFunction.push(filteredArrayNumbers[0]+filteredArrayChars[0]+filteredArrayNumbers[1])
        //     lastFunction.push(filteredArrayNumbers[2]+filteredArrayChars[2]+filteredArrayNumbers[3])
        //     lastFunction.push(filteredArrayNumbers[2]+filteredArrayChars[2]+filteredArrayNumbers[3])
        //     check.innerHTML += "Moja Funkcja: "+lastFunction+'<br>'
        // } 

        // function parse(str) {
        //     return Function(`'use strict'; return (${str})`)()
        // }


    </script>
</body>
</html>