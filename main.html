<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Visualer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="canvas"></canvas>
    <form onsubmit="return false">
        <label> Podaj wartość funkcji: </label>
        <input type="text" placeholder="format: x**2+4x+4" id="myFunction"><br>
        <button onclick="drawMyFunction()">DRAW</button>
    </form>
    <div class="siemka">
        <p>Tutaj sprawdzam funckje i własności kodu, fucknji, programu, itp: </p>
    </div>

    <script>

        var canvas = document.getElementById('canvas');
        var ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;
        let rangex = canvas.width/40;
        let rangey = canvas.height/20
        let number = -20;

        function draw(ctx){
            ctx.beginPath();
            ctx.moveTo(0, centerY);
            ctx.lineTo(canvas.width, centerY);
            ctx.moveTo(centerX, 0);
            ctx.lineTo(centerX, canvas.height);
            ctx.strokeStyle = "black";
            ctx.stroke();
        }

        
        for(i=0; i<=canvas.width; i+=rangex) {
                ctx.beginPath();
                ctx.fillText(number, i, centerY - 9)
                number++
                ctx.textAlign = "center"
                ctx.textBaseline = "middle"
                ctx.font = "10px Arial"
                ctx.moveTo(i, centerY - 5);
                ctx.lineTo(i, centerY + 5);
                ctx.strokeStyle = "black";
                ctx.stroke();
        }

        number = 10

        for(i=0; i<=canvas.height; i+=rangey) {
                ctx.beginPath();
                ctx.fillText(number, centerX - 9, i )
                number--
                ctx.textAlign = "center"
                ctx.textBaseline = "middle"
                ctx.font = "10px Arial"
                ctx.moveTo(centerX - 5, i);
                ctx.lineTo(centerX + 5, i);
                ctx.strokeStyle = "black";
                ctx.stroke();
        }
           

        draw(ctx);

        ctx.translate(centerX, centerY);
        ctx.scale(100,100);
        number=-20
        
        
        function drawMyFunction(){
            const myFunction = document.querySelector("#myFunction").value
            const check = document.querySelector(".siemka")
            for(x=number; x<=(number*(-1)); x++){
                functionWithX = myFunction.replaceAll('x', x)
                array = functionWithX.split('+')
                array.forEach(element => {
                    check.innerHTML += "Wartość funkcji: "+element+'<br>'
                });
                check.innerHTML += "Wartość funkcji: "+functionWithX+'<br>'
                //yParameter = eval(functionWithX);
                //check.innerHTML += "Wartość X: "+x+"Wartość Y: "+yParameter
            }
        }

    </script>
</body>
</html>